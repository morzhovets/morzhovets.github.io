<html>
    <head>
        <!--[if IE]><script language="javascript" type="text/javascript" src="js/excanvas.min.js"></script><![endif]-->
        <script language="javascript" type="text/javascript" src="js/jquery.js"></script>
        <script language="javascript" type="text/javascript" src="js/jquery.flot.js"></script>
    </head>
    <body>

<script>
    $("<div id='tooltip'></div>").css({
                                    position: "absolute",
                                    display: "none",
                                    border: "1px solid #fdd",
                                    padding: "2px",
                                    "background-color": "#fee",
                                    opacity: 0.80
                                  }).appendTo("body");
                
    series_settings = {
        lines: { show: true },
        points: { show: true }
    };

    grid_settings = { tickColor: '#ddd', hoverable: true };

    xaxis_settings = {
        tickFormatter: function(num, obj) { return parseInt(num/1000000) + 'M'; }
    };

    yaxis_runtime_settings = {
        tickFormatter: function(num, obj) { return (+num.toFixed(2)) + ' sec.'; }
    };

    yaxis_memory_settings = {
        tickFormatter: function(num, obj) { return parseInt(num/1024/1024) + 'MiB'; }
    };

    legend_settings = {
        position: 'nw',
        backgroundOpacity: 0
    };

    runtime_settings = {
        series: series_settings,
        grid: grid_settings,
        xaxis: xaxis_settings,
        yaxis: yaxis_runtime_settings,
        legend: legend_settings
    };

    memory_settings = {
        series: series_settings,
        grid: grid_settings,
        xaxis: xaxis_settings,
        yaxis: yaxis_memory_settings,
        legend: legend_settings
    };

    chart_data = {"delete-runtime": [{"data": [[1000000, 0.241211], [2000000, 0.574829], [3000000, 0.935187], [4000000, 1.351228], [5000000, 1.772948]], "label": "momo_map"}, {"data": [[1000000, 0.666326], [2000000, 1.556576], [3000000, 2.574862], [4000000, 3.604777], [5000000, 4.776927]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.725071], [2000000, 1.676215], [3000000, 2.740042], [4000000, 3.862593], [5000000, 5.067765]], "label": "std_map"}, {"data": [[1000000, 0.237168], [2000000, 0.570922], [3000000, 0.931455], [4000000, 1.375686], [5000000, 1.738496]], "label": "google_btree_map"}], 
"deletestring-runtime": [{"data": [[1000000, 1.414692], [2000000, 3.197288], [3000000, 5.916734], [4000000, 8.28372], [5000000, 10.596186]], "label": "momo_map"}, {"data": [[1000000, 1.526283], [2000000, 3.41822], [3000000, 5.460683], [4000000, 7.777615], [5000000, 9.839414]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.397631], [2000000, 3.138955], [3000000, 5.000288], [4000000, 6.921597], [5000000, 9.007773]], "label": "std_map"}, {"data": [[1000000, 1.406142], [2000000, 3.215466], [3000000, 5.119161], [4000000, 7.115015], [5000000, 9.291142]], "label": "google_btree_map"}], 
"readsmallstring-runtime": [{"data": [[1000000, 0.699453], [2000000, 1.610232], [3000000, 2.578144], [4000000, 3.601761], [5000000, 4.648436]], "label": "momo_map"}, {"data": [[1000000, 0.878076], [2000000, 2.024192], [3000000, 3.247112], [4000000, 4.53195], [5000000, 5.934391]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.875232], [2000000, 2.020308], [3000000, 3.254593], [4000000, 4.493102], [5000000, 5.80631]], "label": "std_map"}, {"data": [[1000000, 0.805028], [2000000, 1.867314], [3000000, 2.983706], [4000000, 4.132314], [5000000, 5.33978]], "label": "google_btree_map"}], 
"randomfull-runtime": [{"data": [[1000000, 0.275226], [2000000, 0.684664], [3000000, 1.120464], [4000000, 1.695943], [5000000, 2.186416]], "label": "momo_map"}, {"data": [[1000000, 0.535925], [2000000, 1.269736], [3000000, 2.157301], [4000000, 3.011445], [5000000, 3.949246]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.603243], [2000000, 1.455882], [3000000, 2.316359], [4000000, 3.264971], [5000000, 4.301239]], "label": "std_map"}, {"data": [[1000000, 0.261183], [2000000, 0.624048], [3000000, 1.072205], [4000000, 1.497296], [5000000, 1.9732]], "label": "google_btree_map"}], 
"insertsmallstring-runtime": [{"data": [[1000000, 0.922969], [2000000, 2.246108], [3000000, 3.580454], [4000000, 4.936642], [5000000, 6.431572]], "label": "momo_map"}, {"data": [[1000000, 0.893177], [2000000, 2.098149], [3000000, 3.383026], [4000000, 4.788528], [5000000, 6.236307]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.919838], [2000000, 2.179965], [3000000, 3.469943], [4000000, 4.870324], [5000000, 6.290454]], "label": "std_map"}, {"data": [[1000000, 0.915839], [2000000, 2.129707], [3000000, 3.42739], [4000000, 4.7593], [5000000, 6.118861]], "label": "google_btree_map"}], 
"insertsmallstring-memory": [{"data": [[1000000, 58363904], [2000000, 103161856], [3000000, 147582976], [4000000, 192352256], [5000000, 236560384]], "label": "momo_map"}, {"data": [[1000000, 87445504], [2000000, 161382400], [3000000, 235454464], [4000000, 309391360], [5000000, 383463424]], "label": "std_map_momo_pool"}, {"data": [[1000000, 93384704], [2000000, 173404160], [3000000, 253423616], [4000000, 333443072], [5000000, 413462528]], "label": "std_map"}, {"data": [[1000000, 72335360], [2000000, 131268608], [3000000, 190066688], [4000000, 248864768], [5000000, 307662848]], "label": "google_btree_map"}], 
"iteration-runtime": [{"data": [[1000000, 0.006416], [2000000, 0.013737], [3000000, 0.021045], [4000000, 0.028636], [5000000, 0.036037]], "label": "momo_map"}, {"data": [[1000000, 0.088188], [2000000, 0.189541], [3000000, 0.290781], [4000000, 0.388258], [5000000, 0.494866]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.086167], [2000000, 0.182631], [3000000, 0.277905], [4000000, 0.377942], [5000000, 0.467252]], "label": "std_map"}, {"data": [[1000000, 0.009271], [2000000, 0.018701], [3000000, 0.028736], [4000000, 0.039031], [5000000, 0.048582]], "label": "google_btree_map"}], 
"randomfullread-runtime": [{"data": [[1000000, 0.194301], [2000000, 0.479021], [3000000, 0.717283], [4000000, 1.069988], [5000000, 1.392895]], "label": "momo_map"}, {"data": [[1000000, 0.605973], [2000000, 1.404138], [3000000, 2.320399], [4000000, 3.23316], [5000000, 4.247477]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.684793], [2000000, 1.548882], [3000000, 2.483512], [4000000, 3.512382], [5000000, 4.5756]], "label": "std_map"}, {"data": [[1000000, 0.227134], [2000000, 0.520043], [3000000, 0.869432], [4000000, 1.235302], [5000000, 1.614456]], "label": "google_btree_map"}], 
"randomfull-memory": [{"data": [[1000000, 32280576], [2000000, 51019776], [3000000, 69369856], [4000000, 88539136], [5000000, 106577920]], "label": "momo_map"}, {"data": [[1000000, 62980096], [2000000, 112451584], [3000000, 161923072], [4000000, 211394560], [5000000, 261001216]], "label": "std_map_momo_pool"}, {"data": [[1000000, 77434880], [2000000, 141504512], [3000000, 205438976], [4000000, 269373440], [5000000, 333443072]], "label": "std_map"}, {"data": [[1000000, 36245504], [2000000, 58818560], [3000000, 81526784], [4000000, 104370176], [5000000, 127078400]], "label": "google_btree_map"}], 
"readstring-runtime": [{"data": [[1000000, 1.316616], [2000000, 3.029571], [3000000, 4.841322], [4000000, 6.737723], [5000000, 8.668285]], "label": "momo_map"}, {"data": [[1000000, 1.354884], [2000000, 3.088908], [3000000, 4.961331], [4000000, 7.025002], [5000000, 9.043697]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.234208], [2000000, 2.770486], [3000000, 4.410245], [4000000, 6.184126], [5000000, 8.09191]], "label": "std_map"}, {"data": [[1000000, 1.427507], [2000000, 3.319594], [3000000, 5.197915], [4000000, 7.232298], [5000000, 9.440148]], "label": "google_btree_map"}], 
"insertstring-runtime": [{"data": [[1000000, 1.540761], [2000000, 3.580021], [3000000, 5.706437], [4000000, 8.049799], [5000000, 10.288924]], "label": "momo_map"}, {"data": [[1000000, 1.379706], [2000000, 3.092888], [3000000, 4.975761], [4000000, 7.01096], [5000000, 9.071595]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.274456], [2000000, 2.945902], [3000000, 4.659223], [4000000, 6.49887], [5000000, 8.425416]], "label": "std_map"}, {"data": [[1000000, 1.515586], [2000000, 3.427509], [3000000, 5.490431], [4000000, 7.616777], [5000000, 9.872018]], "label": "google_btree_map"}], 
"insertstring-memory": [{"data": [[1000000, 137568256], [2000000, 262971392], [3000000, 388050944], [4000000, 513560576], [5000000, 638300160]], "label": "momo_map"}, {"data": [[1000000, 165842944], [2000000, 319934464], [3000000, 473890816], [4000000, 627847168], [5000000, 781938688]], "label": "std_map_momo_pool"}, {"data": [[1000000, 171782144], [2000000, 331821056], [3000000, 491859968], [4000000, 651898880], [5000000, 811802624]], "label": "std_map"}, {"data": [[1000000, 150732800], [2000000, 289685504], [3000000, 428503040], [4000000, 567185408], [5000000, 706138112]], "label": "google_btree_map"}], 
"deletesmallstring-runtime": [{"data": [[1000000, 0.829073], [2000000, 1.809866], [3000000, 2.875316], [4000000, 4.033394], [5000000, 5.18872]], "label": "momo_map"}, {"data": [[1000000, 1.033099], [2000000, 2.345566], [3000000, 3.717085], [4000000, 5.170399], [5000000, 6.703134]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.019989], [2000000, 2.307211], [3000000, 3.666387], [4000000, 5.056837], [5000000, 6.519457]], "label": "std_map"}, {"data": [[1000000, 0.894576], [2000000, 2.004818], [3000000, 3.196942], [4000000, 4.402059], [5000000, 5.687358]], "label": "google_btree_map"}]}

    

    function plot_chart(dataset, chart_container, choices_container, chart_settings) {
        // Set colors
        var color = 0;
        $.each(dataset, function(key, val) {
            val.color = color;
            color++;
        });
        
        // Insert checkboxes 
        $.each(dataset, function(key, val) {
            $(choices_container).append( 
                "<li><input type='checkbox' name='" + key +"' checked='checked' id='id" + key + "'></input>" +
                "<label for='id" + key + "'>" + val.label + "</label></li>");
        });
        
        $(choices_container).find("input").click(plot_according_to_choices);
        
        function plot_according_to_choices() {
            var data = [];
            $(choices_container).find("input:checked").each(
                function () {
                    var key = $(this).attr("name");
                    if (key && dataset[key]) {
                            data.push(dataset[key]);
                    }
                }
            );

            if (data.length > 0) {
                $.plot(chart_container, data, chart_settings);
                
    
                $(chart_container).bind("plothover", function (event, pos, item) {
                    if (item) {
                        var x = item.datapoint[0];
                        var y = item.datapoint[1].toFixed(2);

                        $("#tooltip").html(y + " ; " + x)
                                     .css({top: item.pageY+5, left: item.pageX+5})
                                     .fadeIn(200);
                    } else {
                        $("#tooltip").hide();
                    }        
                });
            }
        }

        plot_according_to_choices()
    }

    $(function () {
        plot_chart(chart_data['randomfull-runtime'], '#randomfull-runtime', '#randomfull-runtime-choices', runtime_settings);
        plot_chart(chart_data['randomfullread-runtime'], '#randomfullread-runtime', '#randomfullread-runtime-choices', runtime_settings);
        plot_chart(chart_data['iteration-runtime'], '#iteration-runtime', '#iteration-runtime-choices', runtime_settings);
        plot_chart(chart_data['delete-runtime'], '#delete-runtime', '#delete-runtime-choices', runtime_settings);
        plot_chart(chart_data['randomfull-memory'], '#randomfull-memory', '#randomfull-memory-choices', memory_settings);
        plot_chart(chart_data['insertsmallstring-runtime'], '#insertsmallstring-runtime', '#insertsmallstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['readsmallstring-runtime'], '#readsmallstring-runtime', '#readsmallstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['deletesmallstring-runtime'], '#deletesmallstring-runtime', '#deletesmallstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['insertsmallstring-memory'], '#insertsmallstring-memory', '#insertsmallstring-memory-choices', memory_settings);
        plot_chart(chart_data['insertstring-runtime'], '#insertstring-runtime', '#insertstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['readstring-runtime'], '#readstring-runtime', '#readstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['deletestring-runtime'], '#deletestring-runtime', '#deletestring-runtime-choices', runtime_settings);
        plot_chart(chart_data['insertstring-memory'], '#insertstring-memory', '#insertstring-memory-choices', memory_settings);
    });
    
       
    
</script>

<style>
    body, * { font-family: sans-serif; }
    div.global {
        margin: auto;
        width: 800px;
    }
    div.chart {
        float: left;
        width: 700px;
        height: 400px;
    }
    div.choices {
        float: left;
    }
    div.xaxis-title {
        width: 700px;
        text-align: center;
        font-style: italic;
        font-size: small;
        color: #666;
    }
    .choices li {
        display: block;
        float: left;
        width: 50%;
    }
    div.chart-after-space {
        margin-bottom: 10.0em;
    }
</style>

<div class="global">

<b>Date:</b> 26.07.17<br/>
<b>OS:</b> Arch Linux<br/>
<b>Computer:</b> Intel(R) Core(TM) i5-4460 CPU @ 3.20GHz 8Gb RAM<br/>
<b>Compiler:</b> GCC 7.1.1 x64<br/>
<br/>

<h3>Inserts: execution time (integers)</h3>
<div class="chart" id="randomfull-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="randomfull-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Reads: execution time (integers)</h3>
<div class="chart" id="randomfullread-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="randomfullread-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Deletes: execution time (integers)</h3>
<div class="chart" id="delete-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="delete-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Iteration: execution time (integers)</h3>
<div class="chart" id="iteration-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="iteration-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Memory usage of inserts (integers)</h3>
<div class="chart" id="randomfull-memory"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="randomfull-memory-choices"></ul>
<div class="chart-after-space"></div>

<h3>Inserts: execution time (small strings)</h3>
<div class="chart" id="insertsmallstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertsmallstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Reads: execution time (small strings)</h3>
<div class="chart" id="readsmallstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="readsmallstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Deletes: execution time (small strings)</h3>
<div class="chart" id="deletesmallstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="deletesmallstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Memory usage of inserts (small strings)</h3>
<div class="chart" id="insertsmallstring-memory"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertsmallstring-memory-choices"></ul>
<div class="chart-after-space"></div>

<h3>Inserts: execution time (strings)</h3>
<div class="chart" id="insertstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Reads: execution time (strings)</h3>
<div class="chart" id="readstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="readstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Deletes: execution time (strings)</h3>
<div class="chart" id="deletestring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="deletestring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Memory usage of inserts (strings)</h3>
<div class="chart" id="insertstring-memory"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertstring-memory-choices"></ul>
<div class="chart-after-space"></div>

</div>

</body>
</html>
