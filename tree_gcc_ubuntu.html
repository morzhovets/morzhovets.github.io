<html>
    <head>
        <!--[if IE]><script language="javascript" type="text/javascript" src="js/excanvas.min.js"></script><![endif]-->
        <script language="javascript" type="text/javascript" src="js/jquery.js"></script>
        <script language="javascript" type="text/javascript" src="js/jquery.flot.js"></script>
    </head>
    <body>

<script>
    $("<div id='tooltip'></div>").css({
                                    position: "absolute",
                                    display: "none",
                                    border: "1px solid #fdd",
                                    padding: "2px",
                                    "background-color": "#fee",
                                    opacity: 0.80
                                  }).appendTo("body");
                
    series_settings = {
        lines: { show: true },
        points: { show: true }
    };

    grid_settings = { tickColor: '#ddd', hoverable: true };

    xaxis_settings = {
        tickFormatter: function(num, obj) { return parseInt(num/1000000) + 'M'; }
    };

    yaxis_runtime_settings = {
        tickFormatter: function(num, obj) { return (+num.toFixed(2)) + ' sec.'; }
    };

    yaxis_memory_settings = {
        tickFormatter: function(num, obj) { return parseInt(num/1024/1024) + 'MiB'; }
    };

    legend_settings = {
        position: 'nw',
        backgroundOpacity: 0
    };

    runtime_settings = {
        series: series_settings,
        grid: grid_settings,
        xaxis: xaxis_settings,
        yaxis: yaxis_runtime_settings,
        legend: legend_settings
    };

    memory_settings = {
        series: series_settings,
        grid: grid_settings,
        xaxis: xaxis_settings,
        yaxis: yaxis_memory_settings,
        legend: legend_settings
    };

    chart_data = {"delete-runtime": [{"data": [[1000000, 0.476444], [2000000, 1.071107], [3000000, 1.72325], [4000000, 2.421408], [5000000, 3.161627]], "label": "momo_map"}, {"data": [[1000000, 1.03453], [2000000, 2.389646], [3000000, 3.840641], [4000000, 5.361571], [5000000, 7.038199]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.081794], [2000000, 2.51312], [3000000, 4.155678], [4000000, 5.880169], [5000000, 7.712161]], "label": "std_map"}, {"data": [[1000000, 0.446043], [2000000, 0.988011], [3000000, 1.616566], [4000000, 2.157649], [5000000, 2.893875]], "label": "google_btree_map"}], 
"deletestring-runtime": [{"data": [[1000000, 2.402358], [2000000, 6.003812], [3000000, 8.692191], [4000000, 13.429271], [5000000, 17.564257]], "label": "momo_map"}, {"data": [[1000000, 2.463823], [2000000, 5.767597], [3000000, 9.228156], [4000000, 13.522631], [5000000, 16.635855]], "label": "std_map_momo_pool"}, {"data": [[1000000, 2.278215], [2000000, 5.186811], [3000000, 8.290466], [4000000, 11.643707], [5000000, 15.331372]], "label": "std_map"}, {"data": [[1000000, 2.376187], [2000000, 5.487147], [3000000, 8.942728], [4000000, 12.281853], [5000000, 15.814129]], "label": "google_btree_map"}], 
"readsmallstring-runtime": [{"data": [[1000000, 1.232762], [2000000, 2.884121], [3000000, 4.545598], [4000000, 6.183012], [5000000, 7.861491]], "label": "momo_map"}, {"data": [[1000000, 1.420278], [2000000, 3.301859], [3000000, 5.259573], [4000000, 7.334484], [5000000, 9.471551]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.441208], [2000000, 3.333367], [3000000, 5.306749], [4000000, 7.30031], [5000000, 9.458486]], "label": "std_map"}, {"data": [[1000000, 1.321986], [2000000, 3.133369], [3000000, 4.955395], [4000000, 6.922166], [5000000, 8.898332]], "label": "google_btree_map"}], 
"randomfull-runtime": [{"data": [[1000000, 0.555917], [2000000, 1.263242], [3000000, 2.163022], [4000000, 2.810216], [5000000, 3.615012]], "label": "momo_map"}, {"data": [[1000000, 0.910565], [2000000, 2.177056], [3000000, 3.331998], [4000000, 4.666101], [5000000, 5.736022]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.982129], [2000000, 2.225949], [3000000, 3.627315], [4000000, 5.047067], [5000000, 6.609242]], "label": "std_map"}, {"data": [[1000000, 0.505714], [2000000, 1.130255], [3000000, 1.856586], [4000000, 2.501331], [5000000, 3.239536]], "label": "google_btree_map"}], 
"insertsmallstring-runtime": [{"data": [[1000000, 1.651229], [2000000, 3.743908], [3000000, 5.923106], [4000000, 8.069391], [5000000, 10.205401]], "label": "momo_map"}, {"data": [[1000000, 1.531172], [2000000, 3.467592], [3000000, 5.452183], [4000000, 7.553104], [5000000, 9.71017]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.616332], [2000000, 3.643905], [3000000, 5.636803], [4000000, 7.868299], [5000000, 9.684909]], "label": "std_map"}, {"data": [[1000000, 1.645887], [2000000, 3.762319], [3000000, 5.858271], [4000000, 8.035022], [5000000, 10.15594]], "label": "google_btree_map"}], 
"insertsmallstring-memory": [{"data": [[1000000, 60547072], [2000000, 105312256], [3000000, 149762048], [4000000, 194748416], [5000000, 238268416]], "label": "momo_map"}, {"data": [[1000000, 89653248], [2000000, 163590144], [3000000, 237662208], [4000000, 311599104], [5000000, 385671168]], "label": "std_map_momo_pool"}, {"data": [[1000000, 95584256], [2000000, 175603712], [3000000, 255623168], [4000000, 335642624], [5000000, 415662080]], "label": "std_map"}, {"data": [[1000000, 74530816], [2000000, 133328896], [3000000, 192262144], [4000000, 251195392], [5000000, 309723136]], "label": "google_btree_map"}], 
"iteration-runtime": [{"data": [[1000000, 0.009467], [2000000, 0.019166], [3000000, 0.028953], [4000000, 0.039552], [5000000, 0.049012]], "label": "momo_map"}, {"data": [[1000000, 0.107893], [2000000, 0.227554], [3000000, 0.349257], [4000000, 0.474063], [5000000, 0.597386]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.104317], [2000000, 0.220015], [3000000, 0.336759], [4000000, 0.456538], [5000000, 0.580101]], "label": "std_map"}, {"data": [[1000000, 0.012121], [2000000, 0.024501], [3000000, 0.036928], [4000000, 0.049869], [5000000, 0.063131]], "label": "google_btree_map"}], 
"randomfullread-runtime": [{"data": [[1000000, 0.340389], [2000000, 0.786217], [3000000, 1.271077], [4000000, 1.79495], [5000000, 2.355147]], "label": "momo_map"}, {"data": [[1000000, 0.83932], [2000000, 1.990891], [3000000, 3.241351], [4000000, 4.476499], [5000000, 5.904287]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.005932], [2000000, 2.306616], [3000000, 3.766076], [4000000, 5.334785], [5000000, 7.013289]], "label": "std_map"}, {"data": [[1000000, 0.403576], [2000000, 0.901151], [3000000, 1.425623], [4000000, 2.002875], [5000000, 2.595458]], "label": "google_btree_map"}], 
"randomfull-memory": [{"data": [[1000000, 34476032], [2000000, 53215232], [3000000, 71565312], [4000000, 90734592], [5000000, 108773376]], "label": "momo_map"}, {"data": [[1000000, 65187840], [2000000, 114659328], [3000000, 164130816], [4000000, 213602304], [5000000, 263208960]], "label": "std_map_momo_pool"}, {"data": [[1000000, 79634432], [2000000, 143704064], [3000000, 207638528], [4000000, 271572992], [5000000, 335642624]], "label": "std_map"}, {"data": [[1000000, 38440960], [2000000, 61014016], [3000000, 83722240], [4000000, 106565632], [5000000, 129273856]], "label": "google_btree_map"}], 
"readstring-runtime": [{"data": [[1000000, 2.26991], [2000000, 5.151454], [3000000, 8.026328], [4000000, 11.148704], [5000000, 14.80122]], "label": "momo_map"}, {"data": [[1000000, 2.127639], [2000000, 4.901082], [3000000, 7.910794], [4000000, 10.968455], [5000000, 14.098104]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.931676], [2000000, 4.417263], [3000000, 6.966115], [4000000, 9.662024], [5000000, 12.449256]], "label": "std_map"}, {"data": [[1000000, 2.36902], [2000000, 5.551058], [3000000, 8.910896], [4000000, 12.510028], [5000000, 17.347425]], "label": "google_btree_map"}], 
"insertstring-runtime": [{"data": [[1000000, 2.687686], [2000000, 6.020319], [3000000, 9.50901], [4000000, 13.3286], [5000000, 17.247253]], "label": "momo_map"}, {"data": [[1000000, 2.229383], [2000000, 4.997832], [3000000, 7.931211], [4000000, 10.922637], [5000000, 14.098091]], "label": "std_map_momo_pool"}, {"data": [[1000000, 2.123174], [2000000, 4.794242], [3000000, 7.515486], [4000000, 10.367158], [5000000, 13.198693]], "label": "std_map"}, {"data": [[1000000, 2.622534], [2000000, 5.926075], [3000000, 9.434037], [4000000, 13.218544], [5000000, 17.104405]], "label": "google_btree_map"}], 
"insertstring-memory": [{"data": [[1000000, 139800576], [2000000, 265097216], [3000000, 390230016], [4000000, 515833856], [5000000, 640069632]], "label": "momo_map"}, {"data": [[1000000, 168050688], [2000000, 322142208], [3000000, 476098560], [4000000, 630054912], [5000000, 784146432]], "label": "std_map_momo_pool"}, {"data": [[1000000, 173981696], [2000000, 334020608], [3000000, 494059520], [4000000, 654098432], [5000000, 814002176]], "label": "std_map"}, {"data": [[1000000, 152928256], [2000000, 291745792], [3000000, 430563328], [4000000, 569516032], [5000000, 708198400]], "label": "google_btree_map"}], 
"deletesmallstring-runtime": [{"data": [[1000000, 1.457243], [2000000, 3.18681], [3000000, 5.113961], [4000000, 6.875475], [5000000, 8.688958]], "label": "momo_map"}, {"data": [[1000000, 1.707285], [2000000, 3.751717], [3000000, 5.953686], [4000000, 9.01712], [5000000, 10.891039]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.705478], [2000000, 3.820774], [3000000, 6.046938], [4000000, 8.50064], [5000000, 11.111149]], "label": "std_map"}, {"data": [[1000000, 1.538229], [2000000, 3.369067], [3000000, 5.332366], [4000000, 7.301574], [5000000, 9.475365]], "label": "google_btree_map"}]}

    

    function plot_chart(dataset, chart_container, choices_container, chart_settings) {
        // Set colors
        var color = 0;
        $.each(dataset, function(key, val) {
            val.color = color;
            color++;
        });
        
        // Insert checkboxes 
        $.each(dataset, function(key, val) {
            $(choices_container).append( 
                "<li><input type='checkbox' name='" + key +"' checked='checked' id='id" + key + "'></input>" +
                "<label for='id" + key + "'>" + val.label + "</label></li>");
        });
        
        $(choices_container).find("input").click(plot_according_to_choices);
        
        function plot_according_to_choices() {
            var data = [];
            $(choices_container).find("input:checked").each(
                function () {
                    var key = $(this).attr("name");
                    if (key && dataset[key]) {
                            data.push(dataset[key]);
                    }
                }
            );

            if (data.length > 0) {
                $.plot(chart_container, data, chart_settings);
                
    
                $(chart_container).bind("plothover", function (event, pos, item) {
                    if (item) {
                        var x = item.datapoint[0];
                        var y = item.datapoint[1].toFixed(2);

                        $("#tooltip").html(y + " ; " + x)
                                     .css({top: item.pageY+5, left: item.pageX+5})
                                     .fadeIn(200);
                    } else {
                        $("#tooltip").hide();
                    }        
                });
            }
        }

        plot_according_to_choices()
    }

    $(function () {
        plot_chart(chart_data['randomfull-runtime'], '#randomfull-runtime', '#randomfull-runtime-choices', runtime_settings);
        plot_chart(chart_data['randomfullread-runtime'], '#randomfullread-runtime', '#randomfullread-runtime-choices', runtime_settings);
        plot_chart(chart_data['iteration-runtime'], '#iteration-runtime', '#iteration-runtime-choices', runtime_settings);
        plot_chart(chart_data['delete-runtime'], '#delete-runtime', '#delete-runtime-choices', runtime_settings);
        plot_chart(chart_data['randomfull-memory'], '#randomfull-memory', '#randomfull-memory-choices', memory_settings);
        plot_chart(chart_data['insertsmallstring-runtime'], '#insertsmallstring-runtime', '#insertsmallstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['readsmallstring-runtime'], '#readsmallstring-runtime', '#readsmallstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['deletesmallstring-runtime'], '#deletesmallstring-runtime', '#deletesmallstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['insertsmallstring-memory'], '#insertsmallstring-memory', '#insertsmallstring-memory-choices', memory_settings);
        plot_chart(chart_data['insertstring-runtime'], '#insertstring-runtime', '#insertstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['readstring-runtime'], '#readstring-runtime', '#readstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['deletestring-runtime'], '#deletestring-runtime', '#deletestring-runtime-choices', runtime_settings);
        plot_chart(chart_data['insertstring-memory'], '#insertstring-memory', '#insertstring-memory-choices', memory_settings);
    });
    
       
    
</script>

<style>
    body, * { font-family: sans-serif; }
    div.global {
        margin: auto;
        width: 800px;
    }
    div.chart {
        float: left;
        width: 700px;
        height: 400px;
    }
    div.choices {
        float: left;
    }
    div.xaxis-title {
        width: 700px;
        text-align: center;
        font-style: italic;
        font-size: small;
        color: #666;
    }
    .choices li {
        display: block;
        float: left;
        width: 50%;
    }
    div.chart-after-space {
        margin-bottom: 10.0em;
    }
</style>

<div class="global">

<b>Date:</b> 11.07.17<br/>
<b>OS:</b> Ubuntu<br/>
<b>Computer:</b> Intel(R) Pentium(R) CPU 2117U @ 1.80GHz 4Gb RAM<br/>
<b>Compiler:</b> GCC 5.4.0 x64<br/>
<br/>

<h3>Inserts: execution time (integers)</h3>
<div class="chart" id="randomfull-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="randomfull-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Reads: execution time (integers)</h3>
<div class="chart" id="randomfullread-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="randomfullread-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Deletes: execution time (integers)</h3>
<div class="chart" id="delete-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="delete-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Iteration: execution time (integers)</h3>
<div class="chart" id="iteration-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="iteration-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Memory usage of inserts (integers)</h3>
<div class="chart" id="randomfull-memory"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="randomfull-memory-choices"></ul>
<div class="chart-after-space"></div>

<h3>Inserts: execution time (small strings)</h3>
<div class="chart" id="insertsmallstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertsmallstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Reads: execution time (small strings)</h3>
<div class="chart" id="readsmallstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="readsmallstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Deletes: execution time (small strings)</h3>
<div class="chart" id="deletesmallstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="deletesmallstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Memory usage of inserts (small strings)</h3>
<div class="chart" id="insertsmallstring-memory"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertsmallstring-memory-choices"></ul>
<div class="chart-after-space"></div>

<h3>Inserts: execution time (strings)</h3>
<div class="chart" id="insertstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Reads: execution time (strings)</h3>
<div class="chart" id="readstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="readstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Deletes: execution time (strings)</h3>
<div class="chart" id="deletestring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="deletestring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Memory usage of inserts (strings)</h3>
<div class="chart" id="insertstring-memory"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertstring-memory-choices"></ul>
<div class="chart-after-space"></div>

</div>

</body>
</html>
