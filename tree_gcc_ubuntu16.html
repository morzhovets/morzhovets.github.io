<html>
    <head>
        <!--[if IE]><script language="javascript" type="text/javascript" src="js/excanvas.min.js"></script><![endif]-->
        <script language="javascript" type="text/javascript" src="js/jquery.js"></script>
        <script language="javascript" type="text/javascript" src="js/jquery.flot.js"></script>
    </head>
    <body>

<script>
    $("<div id='tooltip'></div>").css({
                                    position: "absolute",
                                    display: "none",
                                    border: "1px solid #fdd",
                                    padding: "2px",
                                    "background-color": "#fee",
                                    opacity: 0.80
                                  }).appendTo("body");
                
    series_settings = {
        lines: { show: true },
        points: { show: true }
    };

    grid_settings = { tickColor: '#ddd', hoverable: true };

    xaxis_settings = {
        tickFormatter: function(num, obj) { return parseInt(num/1000000) + 'M'; }
    };

    yaxis_runtime_settings = {
        tickFormatter: function(num, obj) { return (+num.toFixed(2)) + ' sec.'; }
    };

    yaxis_memory_settings = {
        tickFormatter: function(num, obj) { return parseInt(num/1024/1024) + 'MiB'; }
    };

    legend_settings = {
        position: 'nw',
        backgroundOpacity: 0
    };

    runtime_settings = {
        series: series_settings,
        grid: grid_settings,
        xaxis: xaxis_settings,
        yaxis: yaxis_runtime_settings,
        legend: legend_settings
    };

    memory_settings = {
        series: series_settings,
        grid: grid_settings,
        xaxis: xaxis_settings,
        yaxis: yaxis_memory_settings,
        legend: legend_settings
    };

    chart_data = {"delete-runtime": [{"data": [[1000000, 0.436101], [2000000, 1.040349], [3000000, 1.610284], [4000000, 2.349716], [5000000, 3.056561]], "label": "momo_map"}, {"data": [[1000000, 0.968754], [2000000, 2.281514], [3000000, 3.735164], [4000000, 5.597532], [5000000, 7.280128]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.083859], [2000000, 2.378814], [3000000, 4.010558], [4000000, 5.567787], [5000000, 7.587173]], "label": "std_map"}, {"data": [[1000000, 0.442477], [2000000, 0.982977], [3000000, 1.505093], [4000000, 2.213756], [5000000, 2.884882]], "label": "google_btree_map"}, {"data": [[1000000, 0.621295], [2000000, 1.320631], [3000000, 2.118491], [4000000, 3.075029], [5000000, 4.016343]], "label": "tlx_btree_map"}], 
"deletestring-runtime": [{"data": [[1000000, 2.312916], [2000000, 5.873322], [3000000, 8.491595], [4000000, 13.370531], [5000000, 17.700601]], "label": "momo_map"}, {"data": [[1000000, 2.391672], [2000000, 5.508169], [3000000, 8.857073], [4000000, 12.706309], [5000000, 16.264669]], "label": "std_map_momo_pool"}, {"data": [[1000000, 2.262718], [2000000, 5.094601], [3000000, 8.055165], [4000000, 11.298302], [5000000, 15.037758]], "label": "std_map"}, {"data": [[1000000, 2.3223], [2000000, 5.399534], [3000000, 8.672446], [4000000, 12.293674], [5000000, 16.239149]], "label": "google_btree_map"}, {"data": [[1000000, 2.727023], [2000000, 6.115993], [3000000, 9.597289], [4000000, 13.366982], [5000000, 17.069417]], "label": "tlx_btree_map"}], 
"readsmallstring-runtime": [{"data": [[1000000, 1.215922], [2000000, 2.816128], [3000000, 4.47146], [4000000, 6.091877], [5000000, 7.708536]], "label": "momo_map"}, {"data": [[1000000, 1.267462], [2000000, 3.288957], [3000000, 5.220528], [4000000, 7.302289], [5000000, 9.433957]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.288354], [2000000, 2.991755], [3000000, 4.813597], [4000000, 7.336037], [5000000, 9.537006]], "label": "std_map"}, {"data": [[1000000, 1.339951], [2000000, 3.13895], [3000000, 4.999164], [4000000, 6.875515], [5000000, 8.862883]], "label": "google_btree_map"}, {"data": [[1000000, 1.274903], [2000000, 3.011325], [3000000, 4.779225], [4000000, 6.687411], [5000000, 8.530446]], "label": "tlx_btree_map"}], 
"randomfull-runtime": [{"data": [[1000000, 0.557238], [2000000, 1.268656], [3000000, 2.0525], [4000000, 2.781608], [5000000, 3.513327]], "label": "momo_map"}, {"data": [[1000000, 0.898936], [2000000, 2.06021], [3000000, 3.141516], [4000000, 4.336278], [5000000, 5.749269]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.970367], [2000000, 2.225109], [3000000, 3.615888], [4000000, 4.789065], [5000000, 6.31237]], "label": "std_map"}, {"data": [[1000000, 0.504408], [2000000, 1.140682], [3000000, 1.813993], [4000000, 2.582636], [5000000, 3.094658]], "label": "google_btree_map"}, {"data": [[1000000, 0.541321], [2000000, 1.227985], [3000000, 1.955519], [4000000, 2.651718], [5000000, 3.427199]], "label": "tlx_btree_map"}], 
"insertsmallstring-runtime": [{"data": [[1000000, 1.646793], [2000000, 3.635563], [3000000, 5.731225], [4000000, 7.767587], [5000000, 9.904766]], "label": "momo_map"}, {"data": [[1000000, 1.517906], [2000000, 3.467618], [3000000, 5.449774], [4000000, 7.547685], [5000000, 9.73377]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.543145], [2000000, 3.531913], [3000000, 5.554047], [4000000, 7.651583], [5000000, 9.841691]], "label": "std_map"}, {"data": [[1000000, 1.623952], [2000000, 3.667871], [3000000, 5.758123], [4000000, 7.875535], [5000000, 10.106826]], "label": "google_btree_map"}, {"data": [[1000000, 1.597172], [2000000, 3.594903], [3000000, 5.642492], [4000000, 7.801485], [5000000, 9.85745]], "label": "tlx_btree_map"}], 
"insertsmallstring-memory": [{"data": [[1000000, 58445824], [2000000, 103215104], [3000000, 147660800], [4000000, 192647168], [5000000, 236167168]], "label": "momo_map"}, {"data": [[1000000, 87552000], [2000000, 161488896], [3000000, 235560960], [4000000, 309497856], [5000000, 383569920]], "label": "std_map_momo_pool"}, {"data": [[1000000, 93487104], [2000000, 173506560], [3000000, 253526016], [4000000, 333545472], [5000000, 413564928]], "label": "std_map"}, {"data": [[1000000, 72433664], [2000000, 131231744], [3000000, 190164992], [4000000, 249098240], [5000000, 307625984]], "label": "google_btree_map"}, {"data": [[1000000, 86515712], [2000000, 159371264], [3000000, 232226816], [4000000, 304947200], [5000000, 377667584]], "label": "tlx_btree_map"}], 
"iteration-runtime": [{"data": [[1000000, 0.009206], [2000000, 0.018699], [3000000, 0.028307], [4000000, 0.037985], [5000000, 0.047907]], "label": "momo_map"}, {"data": [[1000000, 0.105466], [2000000, 0.222323], [3000000, 0.342432], [4000000, 0.464223], [5000000, 0.584832]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.102339], [2000000, 0.215361], [3000000, 0.330138], [4000000, 0.447856], [5000000, 0.565316]], "label": "std_map"}, {"data": [[1000000, 0.011748], [2000000, 0.023904], [3000000, 0.036161], [4000000, 0.049057], [5000000, 0.061807]], "label": "google_btree_map"}, {"data": [[1000000, 0.010671], [2000000, 0.021948], [3000000, 0.033685], [4000000, 0.045691], [5000000, 0.057927]], "label": "tlx_btree_map"}], 
"randomfullread-runtime": [{"data": [[1000000, 0.340669], [2000000, 0.805474], [3000000, 1.296859], [4000000, 1.824709], [5000000, 2.374416]], "label": "momo_map"}, {"data": [[1000000, 0.90918], [2000000, 2.104292], [3000000, 3.42571], [4000000, 4.827199], [5000000, 6.338955]], "label": "std_map_momo_pool"}, {"data": [[1000000, 0.897008], [2000000, 2.239042], [3000000, 3.649116], [4000000, 5.174303], [5000000, 6.822188]], "label": "std_map"}, {"data": [[1000000, 0.390311], [2000000, 0.878483], [3000000, 1.397232], [4000000, 1.946923], [5000000, 2.547833]], "label": "google_btree_map"}, {"data": [[1000000, 0.516726], [2000000, 1.157182], [3000000, 1.841915], [4000000, 2.576225], [5000000, 3.361998]], "label": "tlx_btree_map"}], 
"randomfull-memory": [{"data": [[1000000, 32374784], [2000000, 51191808], [3000000, 69492736], [4000000, 88633344], [5000000, 106672128]], "label": "momo_map"}, {"data": [[1000000, 63086592], [2000000, 112558080], [3000000, 162029568], [4000000, 211501056], [5000000, 261107712]], "label": "std_map_momo_pool"}, {"data": [[1000000, 77537280], [2000000, 141606912], [3000000, 205541376], [4000000, 269475840], [5000000, 333545472]], "label": "std_map"}, {"data": [[1000000, 36343808], [2000000, 58916864], [3000000, 81625088], [4000000, 104468480], [5000000, 127176704]], "label": "google_btree_map"}, {"data": [[1000000, 41504768], [2000000, 69349376], [3000000, 97193984], [4000000, 125038592], [5000000, 153018368]], "label": "tlx_btree_map"}], 
"readstring-runtime": [{"data": [[1000000, 2.131182], [2000000, 4.963166], [3000000, 8.075848], [4000000, 11.23349], [5000000, 13.89594]], "label": "momo_map"}, {"data": [[1000000, 2.025167], [2000000, 4.608087], [3000000, 7.660642], [4000000, 10.631548], [5000000, 12.733498]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.975489], [2000000, 4.403692], [3000000, 6.795517], [4000000, 9.767309], [5000000, 12.54939]], "label": "std_map"}, {"data": [[1000000, 2.367927], [2000000, 5.393135], [3000000, 8.745272], [4000000, 12.250175], [5000000, 16.002663]], "label": "google_btree_map"}, {"data": [[1000000, 2.068344], [2000000, 4.774629], [3000000, 7.592987], [4000000, 10.476019], [5000000, 13.324367]], "label": "tlx_btree_map"}], 
"insertstring-memory": [{"data": [[1000000, 136884224], [2000000, 261550080], [3000000, 386052096], [4000000, 511107072], [5000000, 634634240]], "label": "momo_map"}, {"data": [[1000000, 165949440], [2000000, 319905792], [3000000, 473997312], [4000000, 627953664], [5000000, 781910016]], "label": "std_map_momo_pool"}, {"data": [[1000000, 171884544], [2000000, 331923456], [3000000, 491962368], [4000000, 652001280], [5000000, 811905024]], "label": "std_map"}, {"data": [[1000000, 150831104], [2000000, 289648640], [3000000, 428466176], [4000000, 567418880], [5000000, 706101248]], "label": "google_btree_map"}, {"data": [[1000000, 204517376], [2000000, 395509760], [3000000, 586907648], [4000000, 777900032], [5000000, 968892416]], "label": "tlx_btree_map"}], 
"insertstring-runtime": [{"data": [[1000000, 2.549505], [2000000, 5.666554], [3000000, 9.156422], [4000000, 12.551065], [5000000, 16.059665]], "label": "momo_map"}, {"data": [[1000000, 2.187613], [2000000, 4.887639], [3000000, 7.727269], [4000000, 10.705923], [5000000, 13.697184]], "label": "std_map_momo_pool"}, {"data": [[1000000, 2.029997], [2000000, 4.579562], [3000000, 7.16074], [4000000, 9.83845], [5000000, 12.713417]], "label": "std_map"}, {"data": [[1000000, 2.605999], [2000000, 5.825186], [3000000, 9.268131], [4000000, 12.86504], [5000000, 16.591234]], "label": "google_btree_map"}, {"data": [[1000000, 2.599202], [2000000, 5.800605], [3000000, 9.151487], [4000000, 12.509651], [5000000, 15.932241]], "label": "tlx_btree_map"}], 
"deletesmallstring-runtime": [{"data": [[1000000, 1.427087], [2000000, 3.274406], [3000000, 5.154074], [4000000, 7.097705], [5000000, 9.022828]], "label": "momo_map"}, {"data": [[1000000, 1.735896], [2000000, 4.000664], [3000000, 6.337406], [4000000, 8.888661], [5000000, 10.981704]], "label": "std_map_momo_pool"}, {"data": [[1000000, 1.67307], [2000000, 3.802231], [3000000, 6.163872], [4000000, 8.628868], [5000000, 11.239915]], "label": "std_map"}, {"data": [[1000000, 1.452243], [2000000, 3.336301], [3000000, 5.340404], [4000000, 7.404774], [5000000, 9.538331]], "label": "google_btree_map"}, {"data": [[1000000, 1.750713], [2000000, 3.928357], [3000000, 6.22587], [4000000, 8.614405], [5000000, 11.0764]], "label": "tlx_btree_map"}]}

    

    function plot_chart(dataset, chart_container, choices_container, chart_settings) {
        // Set colors
        var color = 0;
        $.each(dataset, function(key, val) {
            val.color = color;
            color++;
        });
        
        // Insert checkboxes 
        $.each(dataset, function(key, val) {
            $(choices_container).append( 
                "<li><input type='checkbox' name='" + key +"' checked='checked' id='id" + key + "'></input>" +
                "<label for='id" + key + "'>" + val.label + "</label></li>");
        });
        
        $(choices_container).find("input").click(plot_according_to_choices);
        
        function plot_according_to_choices() {
            var data = [];
            $(choices_container).find("input:checked").each(
                function () {
                    var key = $(this).attr("name");
                    if (key && dataset[key]) {
                            data.push(dataset[key]);
                    }
                }
            );

            if (data.length > 0) {
                $.plot(chart_container, data, chart_settings);
                
    
                $(chart_container).bind("plothover", function (event, pos, item) {
                    if (item) {
                        var x = item.datapoint[0];
                        var y = item.datapoint[1].toFixed(2);

                        $("#tooltip").html(y + " ; " + x)
                                     .css({top: item.pageY+5, left: item.pageX+5})
                                     .fadeIn(200);
                    } else {
                        $("#tooltip").hide();
                    }        
                });
            }
        }

        plot_according_to_choices()
    }

    $(function () {
        plot_chart(chart_data['randomfull-runtime'], '#randomfull-runtime', '#randomfull-runtime-choices', runtime_settings);
        plot_chart(chart_data['randomfullread-runtime'], '#randomfullread-runtime', '#randomfullread-runtime-choices', runtime_settings);
        plot_chart(chart_data['iteration-runtime'], '#iteration-runtime', '#iteration-runtime-choices', runtime_settings);
        plot_chart(chart_data['delete-runtime'], '#delete-runtime', '#delete-runtime-choices', runtime_settings);
        plot_chart(chart_data['randomfull-memory'], '#randomfull-memory', '#randomfull-memory-choices', memory_settings);
        plot_chart(chart_data['insertsmallstring-runtime'], '#insertsmallstring-runtime', '#insertsmallstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['readsmallstring-runtime'], '#readsmallstring-runtime', '#readsmallstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['deletesmallstring-runtime'], '#deletesmallstring-runtime', '#deletesmallstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['insertsmallstring-memory'], '#insertsmallstring-memory', '#insertsmallstring-memory-choices', memory_settings);
        plot_chart(chart_data['insertstring-runtime'], '#insertstring-runtime', '#insertstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['readstring-runtime'], '#readstring-runtime', '#readstring-runtime-choices', runtime_settings);
        plot_chart(chart_data['deletestring-runtime'], '#deletestring-runtime', '#deletestring-runtime-choices', runtime_settings);
        plot_chart(chart_data['insertstring-memory'], '#insertstring-memory', '#insertstring-memory-choices', memory_settings);
    });
    
       
    
</script>

<style>
    body, * { font-family: sans-serif; }
    div.global {
        margin: auto;
        width: 800px;
    }
    div.chart {
        float: left;
        width: 700px;
        height: 400px;
    }
    div.choices {
        float: left;
    }
    div.xaxis-title {
        width: 700px;
        text-align: center;
        font-style: italic;
        font-size: small;
        color: #666;
    }
    .choices li {
        display: block;
        float: left;
        width: 50%;
    }
    div.chart-after-space {
        margin-bottom: 10.0em;
    }
</style>

<div class="global">

<b>Date:</b> 03.08.2019<br/>
<b>OS:</b> Ubuntu 16.04<br/>
<b>Computer:</b> Intel(R) Pentium(R) CPU 2117U @ 1.80GHz 4Gb RAM<br/>
<b>Compiler:</b> GCC 5.3.1 x64<br/>
<br/>

<h3>Inserts: execution time (integers)</h3>
<div class="chart" id="randomfull-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="randomfull-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Reads: execution time (integers)</h3>
<div class="chart" id="randomfullread-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="randomfullread-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Deletes: execution time (integers)</h3>
<div class="chart" id="delete-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="delete-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Iteration: execution time (integers)</h3>
<div class="chart" id="iteration-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="iteration-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Memory usage of inserts (integers)</h3>
<div class="chart" id="randomfull-memory"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="randomfull-memory-choices"></ul>
<div class="chart-after-space"></div>

<h3>Inserts: execution time (small strings)</h3>
<div class="chart" id="insertsmallstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertsmallstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Reads: execution time (small strings)</h3>
<div class="chart" id="readsmallstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="readsmallstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Deletes: execution time (small strings)</h3>
<div class="chart" id="deletesmallstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="deletesmallstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Memory usage of inserts (small strings)</h3>
<div class="chart" id="insertsmallstring-memory"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertsmallstring-memory-choices"></ul>
<div class="chart-after-space"></div>

<h3>Inserts: execution time (strings)</h3>
<div class="chart" id="insertstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Reads: execution time (strings)</h3>
<div class="chart" id="readstring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="readstring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Deletes: execution time (strings)</h3>
<div class="chart" id="deletestring-runtime"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="deletestring-runtime-choices"></ul>
<div class="chart-after-space"></div>

<h3>Memory usage of inserts (strings)</h3>
<div class="chart" id="insertstring-memory"></div>
<div class="xaxis-title">number of entries</div>
<ul class="choices" id="insertstring-memory-choices"></ul>
<div class="chart-after-space"></div>

</div>

</body>
</html>
